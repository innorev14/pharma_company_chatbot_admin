{% extends 'base.html' %}
{% load static %}

{% block title %}
{% endblock %}

{% block css %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	$("#data").keyup(function(){
		$("#out").text($("#data").val());
	});
});
</script>
{% endblock %}

{% block content %}
<form method="POST" class="form" id="data">
    {%csrf_token%}
    친구톡 형태<br>
    <input type="radio" id="type-text" name="type" value="00" onchange="setTypeDisplay()" checked="checked"> 텍스트형
    <input type="radio" id="type-img" name="type" value="10" onchange="setTypeDisplay()"> 이미지형
    <div id="divId" style="display:none">
        {{ form.image }}
        <br>
        이미지 링크 {{ form.img_link }} <br>
    </div><br><br>


    내용 {{form.media}}
        {{ form.content }}<br><br>
    버튼 넣기<br>
    <input type="radio" id="btn-text" name="button" value="00" onchange="setBtnDisplay()" checked="checked"> 없음
    <input type="radio" id="btn-weblink" name="button" value="10" onchange="setBtnDisplay()"> 웹링크 <br><br>
    <div id="divId2" style="display:none">
        버튼이름 {{ form.btn_name }}<br><br>
        웹링크(pc) {{ form.weblink_pc }}<br><br>
        웹링크(mobile) {{ form.weblink_mobile }}<br><br>
    </div>

    수신자<br>
    <input type="radio" id="receiver-whole" name="receiver" value="whole" onchange="setReceiverDisplay()" checked="checked"> 전체발송
    <input type="radio" id="receiver-group" name="receiver" value="group" onchange="setReceiverDisplay()"> 그룹발송
    <input type="radio" id="receiver-direct" name="receiver" value="direct" onchange="setReceiverDisplay()"> 직접입력 <br><br>
    <div>{{ form.whole }}</div>
    <div id="divId3" style="display:none">
        {{ form.group }}
    </div>
    <div id="divId4" style="display:none">
        {{ form.receiver }}
    </div>
    <br><br>
    발신자 {{ form.sender }} <br><br>
<!--    {{form.as_p}}-->
    <button type="submit" class="save btn btn-default">전송하기</button>
</form>

<div id="out"></div>
{% endblock %}

{% block script %}
<script>
function setTypeDisplay(){
    if($('input:radio[id=type-img]').is(':checked')){
        $('#divId').show();
    }else{
        $('#divId').hide();
    }
}
function setBtnDisplay(){
    if($('input:radio[id=btn-weblink]').is(':checked')){
        $('#divId2').show();
    }else{
        $('#divId2').hide();
    }
}
$('input:radio[id="receiver-whole"]').on('change', function () {
    switch ($(this).val()) {
        case 'receiver-whole':
            //ajax GET function
            break;
        case 'receiver-group':
            //ajax GET function
            break;
        case 'receiver-direct':
            //ajax GET function
            break;
    }
});
function setReceiverDisplay(){
    if($('input:radio[id=receiver-group]').is(':checked')){
        $('#divId3').show();
    }else{
        $('#divId3').hide();
    };
        if($('input:radio[id=receiver-direct]').is(':checked')){
        $('#divId4').show();
    }else{
        $('#divId4').hide();
    };
}

</script>
{% endblock %}